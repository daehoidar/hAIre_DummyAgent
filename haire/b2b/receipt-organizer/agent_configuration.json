{
  "info": {
    "slug": "receipt-organizer",
    "name": "영수증 & 인보이스 정리봇",
    "version": "1.0.0",
    "description": "영수증 사진과 인보이스 파일을 업로드하면 항목별로 분류하고 경비 보고서를 자동 생성합니다.",
    "price": 500,
    "icon": "receipt",
    "category": "경리/재무",
    "tags": ["경비정산", "영수증", "인보이스", "OCR", "재무"]
  },

  "run": {
    "engine": "python-3.11",
    "entry_point": "src.main:run",
    "dependencies": "requirements.txt"
  },

  "resources": {
    "llm": {
      "provider": "openai",
      "model": "gpt-4o",
      "parameters": {
        "temperature": 0.0,
        "max_tokens": 4096
      }
    },
    "tools": [
      {
        "name": "ocr_engine",
        "description": "영수증/인보이스 이미지에서 텍스트 및 구조 추출",
        "library": "Google Cloud Vision API + 자체 후처리"
      },
      {
        "name": "excel_generator",
        "description": "경비 보고서 엑셀 파일 생성",
        "library": "openpyxl"
      }
    ],
    "auth": []
  },

  "inputs": [
    {
      "name": "receipts",
      "type": "file_upload",
      "label": "영수증 / 인보이스 파일",
      "accept": [".jpg", ".jpeg", ".png", ".pdf", ".heic"],
      "max_files": 50,
      "max_size_mb": 10,
      "required": true
    },
    {
      "name": "category_preset",
      "type": "radio",
      "label": "분류 기준",
      "options": [
        {"value": "corporate_standard", "label": "기업 경비 표준 (교통비/식비/숙박비/업무용품/기타)"},
        {"value": "tax_category", "label": "세무 신고용 (매입세액공제 분류 기준)"},
        {"value": "custom", "label": "직접 입력"}
      ],
      "default": "corporate_standard",
      "required": true
    },
    {
      "name": "custom_categories",
      "type": "text_area",
      "label": "직접 분류 기준 입력 (쉼표로 구분)",
      "placeholder": "예: 재료비, 외주비, 회의비, 접대비, 배송비",
      "required": false,
      "visible_when": {"category_preset": "custom"}
    },
    {
      "name": "currency",
      "type": "radio",
      "label": "통화",
      "options": [
        {"value": "KRW", "label": "원화 (KRW)"},
        {"value": "USD", "label": "달러 (USD)"},
        {"value": "mixed", "label": "혼합 (자동 인식)"}
      ],
      "default": "KRW",
      "required": true
    },
    {
      "name": "output_format",
      "type": "radio",
      "label": "결과물 형식",
      "options": [
        {"value": "xlsx", "label": "엑셀 파일 (.xlsx)"},
        {"value": "csv", "label": "CSV 파일"},
        {"value": "both", "label": "둘 다"}
      ],
      "default": "xlsx",
      "required": true
    }
  ],

  "outputs": {
    "view_type": "report_with_download",
    "items": [
      {
        "name": "expense_report",
        "type": "file",
        "label": "경비 보고서 파일 (엑셀 또는 CSV)"
      },
      {
        "name": "summary_table",
        "type": "table",
        "label": "분류별 합계 요약",
        "columns": ["분류", "건수", "합계 금액", "비율(%)"]
      },
      {
        "name": "parsing_log",
        "type": "table",
        "label": "인식 결과 상세",
        "columns": ["파일명", "날짜", "가맹점명", "금액", "분류", "인식 신뢰도"]
      }
    ]
  }
}
