{
  "info": {
    "slug": "privacy-masker",
    "name": "개인정보 마스킹 에이전트",
    "version": "1.0.0",
    "description": "문서 속 개인정보를 자동으로 탐지하고 마스킹 처리하여 안전한 문서를 생성합니다.",
    "price": 800,
    "icon": "shield",
    "category": "법무/컴플라이언스",
    "tags": ["개인정보보호", "마스킹", "컴플라이언스", "PIPA", "법무"]
  },

  "run": {
    "engine": "python-3.11",
    "entry_point": "src.main:run",
    "dependencies": "requirements.txt"
  },

  "resources": {
    "llm": {
      "provider": "openai",
      "model": "gpt-4o",
      "parameters": {
        "temperature": 0.0,
        "max_tokens": 4096
      }
    },
    "tools": [
      {
        "name": "presidio_analyzer",
        "description": "Microsoft Presidio 기반 개인정보 탐지 엔진 (한국어 정규식 확장)",
        "version": "2.2"
      },
      {
        "name": "pdf_parser",
        "description": "PDF/DOCX/HWP 문서 파싱 및 재구성",
        "library": "pdfplumber + python-docx + pyhwp"
      }
    ],
    "auth": []
  },

  "inputs": [
    {
      "name": "documents",
      "type": "file_upload",
      "label": "마스킹할 문서",
      "accept": [".pdf", ".docx", ".hwp", ".txt", ".csv"],
      "max_files": 20,
      "max_size_mb": 50,
      "required": true
    },
    {
      "name": "masking_targets",
      "type": "checkbox_group",
      "label": "마스킹 대상 선택",
      "options": [
        {"value": "resident_id", "label": "주민등록번호"},
        {"value": "phone", "label": "전화번호"},
        {"value": "email", "label": "이메일 주소"},
        {"value": "name", "label": "사람 이름"},
        {"value": "address", "label": "주소"},
        {"value": "account", "label": "계좌번호"},
        {"value": "card", "label": "카드번호"},
        {"value": "passport", "label": "여권번호"},
        {"value": "driver_license", "label": "운전면허번호"}
      ],
      "default": ["resident_id", "phone", "email", "name", "address"],
      "required": true
    },
    {
      "name": "masking_style",
      "type": "radio",
      "label": "마스킹 방식",
      "options": [
        {"value": "asterisk", "label": "별표 처리 (홍** / 010-****-5678)"},
        {"value": "category_tag", "label": "태그 대체 ([이름], [전화번호])"},
        {"value": "full_remove", "label": "완전 삭제 (공란 처리)"}
      ],
      "default": "asterisk",
      "required": true
    },
    {
      "name": "output_format",
      "type": "radio",
      "label": "결과물 파일 형식",
      "options": [
        {"value": "same_as_input", "label": "원본과 동일한 형식"},
        {"value": "pdf", "label": "PDF로 변환"}
      ],
      "default": "same_as_input",
      "required": false
    }
  ],

  "outputs": {
    "view_type": "file_download_list",
    "items": [
      {
        "name": "masked_documents",
        "type": "file_bundle",
        "label": "마스킹 처리된 문서"
      },
      {
        "name": "detection_report",
        "type": "table",
        "label": "탐지 결과 리포트",
        "columns": ["파일명", "탐지 항목", "탐지 건수", "마스킹 완료 건수", "정확도 신뢰도"]
      }
    ]
  }
}
